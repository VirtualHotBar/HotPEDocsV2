# 制作 HPM 包（程序模块）

本文档用于将“绿色软件/免安装软件”打包成 HPM 模块，供 HotPE（或集成了 HPM 功能的 PE/桌面系统）加载使用。

## 获取制作工具
- 独立版工具：下载 [HPMMake.exe](https://p0.hotpe.top/HotPE%E6%A8%A1%E5%9D%97/HPMMake.exe)

:::details 从 HotPE 客户端进入制作工具（可选）
- 从安装包：点击「展开高级选项」>「HPM 包」>「制作 HPM 包」

![](https://sc.sysri.cn/i/2022/05/02/10fu9eu.png)

- 安装 HotPE 到系统后：开始菜单 > HotPE 工具箱 > HPM 包制作工具

![](https://sc.sysri.cn/i/2022/05/02/10gdvxs.png)
:::

## 打包前准备（建议必做）
1. **确认软件为绿色版**：尽量使用免安装版本，避免依赖系统注册表/服务。
2. **在 HotPE 中先跑通**：把软件目录拷到 HotPE，直接运行主程序；若无法运行，先补齐 DLL、运行库等依赖，确保在 HotPE 环境能正常启动。

以 GitHub Desktop 为例，先定位到软件目录与主可执行文件：

![](https://sc.sysri.cn/i/2022/05/02/10gzmro.png)

## 开始打包
1. 打开 HPM 包制作工具：模块名称填写软件名称，描述填写软件介绍；**模块参数不要包含空格**，然后点「下一步」。

![](https://sc.sysri.cn/i/2022/05/02/10i48f8.png)

2. 「嵌入目录」选择程序目录（单文件程序请确保目录中不包含无关文件）；「主程序」选择嵌入目录内的可执行文件，然后点「下一步」。

![](https://sc.sysri.cn/i/2022/05/02/10ins4i.png)

3. 如需自定义，可在制作前编辑模块嵌入文件与脚本；确认无误后点击「开始制作」。

![](https://sc.sysri.cn/i/2022/05/02/10iuqdy.png)

## 测试与投稿
- 制作完成后，务必在 HotPE 中加载并完整测试（启动、功能、退出、卸载是否正常）。
- 没问题后即可前往《[模块投稿](/devdoc/hpm_con)》按命名与规范提交。
